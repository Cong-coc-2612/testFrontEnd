{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{cookies}from'./cookies';import config from'config';import{COOKIES_TYPE}from'global';export var METHOD;(function(METHOD){METHOD[\"GET\"]=\"get\";METHOD[\"POST\"]=\"post\";METHOD[\"PUT\"]=\"put\";METHOD[\"DELETE\"]=\"delete\";})(METHOD||(METHOD={}));export function query(_x,_x2){return _query.apply(this,arguments);}function _query(){_query=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(uri,method){var data,params,path,baseUrl,realUrl,_args=arguments;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=_args.length>2&&_args[2]!==undefined?_args[2]:{};params=_args.length>3&&_args[3]!==undefined?_args[3]:{};path=_args.length>4?_args[4]:undefined;baseUrl=config.apiUrl.baseURI;realUrl=\"\".concat(baseUrl).concat(uri);return _context.abrupt(\"return\",new Promise(function(resolve,reject){switch(method){case METHOD.POST:{axios.post(\"\".concat(realUrl).concat(path!==''?\"/\".concat(path):''),null,{params:params,data:data,headers:{\"Authorization\":cookies.get(COOKIES_TYPE.AUTH_TOKEN)!=null?cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication:null}}).then(function(response){console.log('response1',uri,response);resolve(response);}).catch(function(error){console.log('error1',uri,error);reject(error);});break;}case METHOD.PUT:{axios.put(\"\".concat(realUrl).concat(path!==''?\"/\".concat(path):''),null,{params:params,data:data,headers:{\"Authorization\":cookies.get(COOKIES_TYPE.AUTH_TOKEN)!=null?cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication:null}}).then(function(response){console.log('response1',uri,response);resolve(response);}).catch(function(error){console.log('error1',uri,error);reject(error);});break;}case METHOD.GET:{axios.get(\"\".concat(realUrl).concat(path!==''?\"/\".concat(path):''),{params:params,data:data,headers:{\"Authorization\":cookies.get(COOKIES_TYPE.AUTH_TOKEN)!=null?cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication:null}}).then(function(response){console.log('response1',uri,response);resolve(response);}).catch(function(error){console.log('error1',uri,error);reject(error);});break;}case METHOD.DELETE:{axios.delete(\"\".concat(realUrl).concat(path!==''?\"/\".concat(path):''),{params:params,data:data,headers:{\"Authorization\":cookies.get(COOKIES_TYPE.AUTH_TOKEN)!=null?cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication:null}}).then(function(response){console.log('response1',uri,response);resolve(response);}).catch(function(error){console.log('error1',uri,error);reject(error);});break;}default:{break;}}}));case 6:case\"end\":return _context.stop();}}},_callee);}));return _query.apply(this,arguments);}","map":{"version":3,"sources":["E:/frontEnd/SportTournamentSupportSystemFE/src/utils/socketApi.ts"],"names":["axios","cookies","config","COOKIES_TYPE","METHOD","query","uri","method","data","params","path","baseUrl","apiUrl","baseURI","realUrl","Promise","resolve","reject","POST","post","headers","get","AUTH_TOKEN","Authentication","then","response","console","log","catch","error","PUT","put","GET","DELETE","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\r\nimport { IParams, IResponse } from \"interfaces/common\";\r\nimport { cookies } from './cookies';\r\nimport config from 'config';\r\nimport { COOKIES_TYPE } from 'global';\r\n\r\nexport enum METHOD {\r\n  GET = 'get',\r\n  POST = 'post',\r\n  PUT = 'put',\r\n  DELETE = 'delete',\r\n}\r\n\r\nexport async function query<T>(\r\n  uri: string,\r\n  method: METHOD,\r\n  data: IParams = {},\r\n  params: IParams = {},\r\n  path: string | number,\r\n) {\r\n  const baseUrl = config.apiUrl.baseURI;\r\n  const realUrl = `${baseUrl}${uri}`;\r\n\r\n  return new Promise<IResponse<T>>((resolve: Function, reject: Function) => {\r\n    switch (method) {\r\n      case METHOD.POST: {\r\n        axios.post(`${realUrl}${path !== '' ? `/${path}` : ''}`, null, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          } })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      case METHOD.PUT: {\r\n        axios.put(`${realUrl}${path !== '' ? `/${path}` : ''}`, null, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          }\r\n        })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      case METHOD.GET: {\r\n        axios.get(`${realUrl}${path !== '' ? `/${path}` : ''}`, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          }\r\n        })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      case METHOD.DELETE: {\r\n        axios.delete(`${realUrl}${path !== '' ? `/${path}` : ''}`, {\r\n          params, data, headers: {\r\n            \"Authorization\": cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ? cookies.get(COOKIES_TYPE.AUTH_TOKEN).Authentication : null,\r\n          }\r\n        })\r\n          .then((response) => {\r\n            console.log('response1', uri, response);\r\n            resolve(response);\r\n          }).catch((error) => {\r\n            console.log('error1', uri, error);\r\n            reject(error);\r\n          });\r\n        break;\r\n      }\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n  });\r\n}"]},"metadata":{},"sourceType":"module"}