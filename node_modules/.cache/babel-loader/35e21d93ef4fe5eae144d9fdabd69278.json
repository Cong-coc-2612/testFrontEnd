{"ast":null,"code":"import _regeneratorRuntime from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";var _marked=/*#__PURE__*/_regeneratorRuntime.mark(doLogOut),_marked2=/*#__PURE__*/_regeneratorRuntime.mark(watchLogOut);import{takeLatest,put}from'redux-saga/effects';import{cookies}from'utils/cookies';import{LOGOUT}from'redux-saga/actions';import{COOKIES_TYPE}from'global';import history from\"utils/history\";import{LOGIN_FAILED}from'screens/Login/reducers';function doLogOut(){return _regeneratorRuntime.wrap(function doLogOut$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return cookies.remove(COOKIES_TYPE.AUTH_TOKEN,{path:'/'});case 3:_context.next=5;return put({type:LOGIN_FAILED});case 5:_context.next=7;return history.push(\"/login\");case 7:_context.next=11;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);case 11:case\"end\":return _context.stop();}}},_marked,null,[[0,9]]);}export default function watchLogOut(){return _regeneratorRuntime.wrap(function watchLogOut$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return takeLatest(LOGOUT,doLogOut);case 2:case\"end\":return _context2.stop();}}},_marked2);}","map":{"version":3,"sources":["E:/frontEnd/SportTournamentSupportSystemFE/src/redux-saga/sagas/LogOut/logOut.ts"],"names":["doLogOut","watchLogOut","takeLatest","put","cookies","LOGOUT","COOKIES_TYPE","history","LOGIN_FAILED","remove","AUTH_TOKEN","path","type","push"],"mappings":"iNAOUA,Q,iDAWeC,W,EAlBzB,OAASC,UAAT,CAAqBC,GAArB,KAAgC,oBAAhC,CACA,OAASC,OAAT,KAAwB,eAAxB,CACA,OAASC,MAAT,KAAuB,oBAAvB,CACA,OAASC,YAAT,KAA6B,QAA7B,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,OAASC,YAAT,KAA6B,wBAA7B,CAEA,QAAUR,CAAAA,QAAV,oJAEI,MAAMI,CAAAA,OAAO,CAACK,MAAR,CAAeH,YAAY,CAACI,UAA5B,CAAwC,CAAEC,IAAI,CAAE,GAAR,CAAxC,CAAN,CAFJ,uBAGI,MAAMR,CAAAA,GAAG,CAAC,CACRS,IAAI,CAAEJ,YADE,CAAD,CAAT,CAHJ,uBAMI,MAAMD,CAAAA,OAAO,CAACM,IAAR,CAAa,QAAb,CAAN,CANJ,0JAWA,cAAe,SAAUZ,CAAAA,WAAV,2IACb,MAAMC,CAAAA,UAAU,CAACG,MAAD,CAASL,QAAT,CAAhB,CADa","sourcesContent":["import { takeLatest, put } from 'redux-saga/effects';\r\nimport { cookies } from 'utils/cookies';\r\nimport { LOGOUT } from 'redux-saga/actions';\r\nimport { COOKIES_TYPE } from 'global';\r\nimport history from \"utils/history\";\r\nimport { LOGIN_FAILED } from 'screens/Login/reducers';\r\n\r\nfunction* doLogOut() {\r\n  try {\r\n    yield cookies.remove(COOKIES_TYPE.AUTH_TOKEN, { path: '/' });\r\n    yield put({\r\n      type: LOGIN_FAILED,\r\n    });\r\n    yield history.push(\"/login\");\r\n  } catch (error) {\r\n  }\r\n}\r\n\r\nexport default function* watchLogOut() {\r\n  yield takeLatest(LOGOUT, doLogOut);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}