{"ast":null,"code":"import _classCallCheck from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _createSuper from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import _inherits from\"E:\\\\frontEnd\\\\SportTournamentSupportSystemFE\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React from'react';import{connect}from'react-redux';import{Link}from'react-router-dom';import Select from'react-select';import{FaChevronDown,FaChevronUp,FaSearch}from'react-icons/fa';import{RiCloseLine}from'react-icons/ri';import{COOKIES_TYPE}from'global';import history from\"utils/history\";import{cookies}from'utils/cookies';import{setGlobalSearchString}from'redux-saga/global-actions/SetGlobalSearchString-actions';import{logOut,searchTournaments,searchUsers}from'./actions';import'./styles.css';var searchOption=[{value:1,label:'Tìm Giải'},{value:2,label:'Tìm Người dùng'}];var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);var _super=_createSuper(Header);function Header(props){var _this;_classCallCheck(this,Header);_this=_super.call(this,props);_this.handleShowUserOption=function(){_this.setState({showUserOption:!_this.state.showUserOption});};_this.hideUserOption=function(){_this.setState({showUserOption:false});};_this.logOut=function(){_this.hideUserOption();_this.props.logOut();};_this.handleSearch=function(){var params={path:'',param:{page:1,limit:3,searchString:_this.state.searchText},data:{}};_this.props.setGlobalSearchString(_this.state.searchText.trim());if(_this.state.selectedSearchOption.value===1){_this.props.searchTournaments(params);history.push(\"/tournaments\");}else{_this.props.searchUsers(params);history.push(\"/users\");}};_this.onChangeSearchOption=function(value){_this.setState({selectedSearchOption:value});};_this.clearSearchText=function(){_this.setState({searchText:''});};_this.onChangeSearchText=function(value){_this.setState({searchText:value.target.value});};_this.keyPressed=function(event){if(event.key===\"Enter\"){_this.handleSearch();}};_this.onImageError=function(){_this.setState({errorLoadImage:true});};_this.state={showUserOption:false,searchText:'',selectedSearchOption:{value:1,label:'Tìm Giải'},errorLoadImage:false};return _this;}_createClass(Header,[{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.props.currentPage!==nextProps.currentPage){this.setState({showUserOption:false});}return true;}},{key:\"render\",value:function render(){var _this2=this;var currentUserInfo=this.props.currentUserInfo;return/*#__PURE__*/React.createElement(\"div\",{className:\"Header-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Logo-container\"},/*#__PURE__*/React.createElement(Link,{to:\"/\",style:{height:50}},/*#__PURE__*/React.createElement(\"img\",{style:{width:'100%',height:'100%'},src:require('../../assets/logo.png'),alt:'logo'}))),/*#__PURE__*/React.createElement(\"div\",{className:\"Option-container \".concat(this.props.currentPage==='tournaments'?'Option-container1':'')},/*#__PURE__*/React.createElement(Link,{to:\"/tournaments\",style:{textDecoration:'none'},onClick:function onClick(){_this2.props.setGlobalSearchString('');}},/*#__PURE__*/React.createElement(\"div\",{className:\"Link\"},/*#__PURE__*/React.createElement(\"p\",{className:\"Link-text \".concat(this.props.currentPage==='tournaments'?'Link-text-selected':'')},\"C\\xE1c gi\\u1EA3i \\u0111\\u1EA5u\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"SearchBar-container\"},/*#__PURE__*/React.createElement(Select,{options:searchOption,className:\"Select Select1\",defaultValue:this.state.selectedSearchOption,value:this.state.selectedSearchOption,onChange:this.onChangeSearchOption,menuPlacement:'top'}),/*#__PURE__*/React.createElement(\"input\",{type:'text',onKeyPress:this.keyPressed,className:'Header-text-input',onChange:this.onChangeSearchText,value:this.state.searchText}),this.state.searchText!==''&&/*#__PURE__*/React.createElement(\"div\",{className:'Header-icon-container',onClick:this.clearSearchText},/*#__PURE__*/React.createElement(RiCloseLine,{className:'Header-icon',size:30})),/*#__PURE__*/React.createElement(\"div\",{className:'Header-icon-container',onClick:this.handleSearch},/*#__PURE__*/React.createElement(FaSearch,{className:'Header-icon',size:25}))),this.props.currentPage!=='newTournament'&&this.props.currentPage!=='login'&&/*#__PURE__*/React.createElement(Link,{to:\"/newTournament\",style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(\"div\",{className:\"SignUp-Button-container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"Button\"},\"T\\u1EA1o gi\\u1EA3i ngay\"))),currentUserInfo!=null&&cookies.get(COOKIES_TYPE.AUTH_TOKEN)!=null?/*#__PURE__*/React.createElement(\"div\",{className:\"Right-container Right-container-hover\"},/*#__PURE__*/React.createElement(\"div\",{className:'UserOption-container',onClick:this.handleShowUserOption},/*#__PURE__*/React.createElement(\"div\",{className:'UserOption-avatar-container'},/*#__PURE__*/React.createElement(\"img\",{className:'UserOption-avatar-image',src:require(// `${this.state.errorLoadImage === false ?\n'../../assets/7ab1b0125d485c8dd6a4e78832b0a4b2fbed3cf8.png'// :\n// '../../assets/avatar-man-icon-profile-placeholder-260nw-1229862502.jpg'}`\n),alt:'logo',onError:this.onImageError})),/*#__PURE__*/React.createElement(\"p\",{className:'UserOption-name-text'},\"\".concat(currentUserInfo.firstName)),this.state.showUserOption===true?/*#__PURE__*/React.createElement(FaChevronDown,{color:'white'}):/*#__PURE__*/React.createElement(FaChevronUp,{color:'white'})),this.state.showUserOption===true&&/*#__PURE__*/React.createElement(\"div\",{className:'UserOption-dropdown-container'},/*#__PURE__*/React.createElement(Link,{to:\"/user/\".concat(currentUserInfo.id),style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(\"div\",{className:'UserOption-dropdown-item-container UserOption-dropdown-item-container1'},/*#__PURE__*/React.createElement(\"p\",null,\"Th\\xF4ng tin\"))),/*#__PURE__*/React.createElement(Link,{to:\"/changePassword\",style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(\"div\",{className:'UserOption-dropdown-item-container UserOption-dropdown-item-container2'},/*#__PURE__*/React.createElement(\"p\",null,\"\\u0110\\u1ED5i m\\u1EADt kh\\u1EA9u\"))),/*#__PURE__*/React.createElement(\"div\",{className:'UserOption-dropdown-item-container UserOption-dropdown-item-container1',onClick:this.logOut},/*#__PURE__*/React.createElement(\"p\",null,\"\\u0110\\u0103ng xu\\u1EA5t\")))):/*#__PURE__*/React.createElement(\"div\",{className:\"Right-container\"},this.props.currentPage==='login'&&/*#__PURE__*/React.createElement(\"div\",{className:\"Link-text-no-hover-container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"Link-text-no-hover\"},\"B\\u1EA1n ch\\u01B0a c\\xF3 t\\xE0i kho\\u1EA3n?\")),this.props.currentPage==='login'?/*#__PURE__*/React.createElement(Link,{to:\"/signUp\",style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(\"div\",{className:\"SignUp-Button-container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"Button\"},\"\\u0110\\u0103ng k\\xFD\"))):/*#__PURE__*/React.createElement(Link,{to:\"/login\",style:{textDecoration:'none'}},/*#__PURE__*/React.createElement(\"div\",{className:\"SignUp-Button-container\"},/*#__PURE__*/React.createElement(\"p\",{className:\"Button\"},\"\\u0110\\u0103ng nh\\u1EADp\")))));}}]);return Header;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{currentUserInfo:state.currentUserInfo};};export default connect(mapStateToProps,{logOut:logOut,searchTournaments:searchTournaments,setGlobalSearchString:setGlobalSearchString,searchUsers:searchUsers})(Header);","map":{"version":3,"sources":["E:/frontEnd/SportTournamentSupportSystemFE/src/components/Header/index.tsx"],"names":["React","connect","Link","Select","FaChevronDown","FaChevronUp","FaSearch","RiCloseLine","COOKIES_TYPE","history","cookies","setGlobalSearchString","logOut","searchTournaments","searchUsers","searchOption","value","label","Header","props","handleShowUserOption","setState","showUserOption","state","hideUserOption","handleSearch","params","path","param","page","limit","searchString","searchText","data","trim","selectedSearchOption","push","onChangeSearchOption","clearSearchText","onChangeSearchText","target","keyPressed","event","key","onImageError","errorLoadImage","nextProps","nextState","currentPage","currentUserInfo","height","width","require","textDecoration","get","AUTH_TOKEN","firstName","id","Component","mapStateToProps"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport Select, { ValueType, OptionTypeBase } from 'react-select';\r\nimport { FaChevronDown, FaChevronUp, FaSearch } from 'react-icons/fa';\r\nimport { RiCloseLine } from 'react-icons/ri';\r\nimport { COOKIES_TYPE } from 'global';\r\nimport { IBigRequest, IParams } from 'interfaces/common';\r\nimport history from \"utils/history\";\r\nimport { cookies } from 'utils/cookies';\r\nimport { IState } from 'redux-saga/reducers';\r\nimport { setGlobalSearchString } from 'redux-saga/global-actions/SetGlobalSearchString-actions';\r\nimport { logOut, searchTournaments, searchUsers } from './actions';\r\nimport './styles.css';\r\n\r\ninterface IHeaderProps extends React.ClassAttributes<Header> {\r\n  currentPage: 'competitionInfo' | 'login' | 'signUp' | 'tournaments' | 'tournamentInfo' | 'users' | 'userInfo' | 'home' | 'forgotPassword' | 'newTournament' | 'changePassword' | 'active';\r\n  currentUserInfo: IParams | null;\r\n\r\n  logOut(): void;\r\n  searchTournaments(params: IBigRequest): void;\r\n  searchUsers(params: IBigRequest): void;\r\n  setGlobalSearchString(params: string): void;\r\n}\r\n\r\ninterface IHeaderState {\r\n  showUserOption: boolean;\r\n  searchText: string;\r\n  selectedSearchOption: ValueType<OptionTypeBase>;\r\n  errorLoadImage: boolean;\r\n}\r\n\r\nconst searchOption = [\r\n  { value: 1, label: 'Tìm Giải' },\r\n  { value: 2, label: 'Tìm Người dùng' },\r\n];\r\n\r\nclass Header extends React.Component<IHeaderProps, IHeaderState> {\r\n  constructor(props: IHeaderProps) {\r\n    super(props);\r\n    this.state = {\r\n      showUserOption: false,\r\n      searchText: '',\r\n      selectedSearchOption: { value: 1, label: 'Tìm Giải' },\r\n      errorLoadImage: false,\r\n    };\r\n  }\r\n\r\n  shouldComponentUpdate(nextProps: IHeaderProps, nextState: IHeaderState) {\r\n    if (this.props.currentPage !== nextProps.currentPage) {\r\n      this.setState({\r\n        showUserOption: false,\r\n      });\r\n    }\r\n    return true;\r\n  }\r\n\r\n  private handleShowUserOption = () => {\r\n    this.setState({\r\n      showUserOption: !this.state.showUserOption,\r\n    });\r\n  }\r\n\r\n\r\n  private hideUserOption = () => {\r\n    this.setState({\r\n      showUserOption: false,\r\n    });\r\n  }\r\n\r\n  private logOut = () => {\r\n    this.hideUserOption();\r\n    this.props.logOut();\r\n  }\r\n\r\n  private handleSearch = () => {\r\n    const params = {\r\n      path: '',\r\n      param: {\r\n        page: 1,\r\n        limit: 3,\r\n        searchString: this.state.searchText,\r\n      },\r\n      data: {},\r\n    };\r\n\r\n    this.props.setGlobalSearchString(this.state.searchText.trim());\r\n    if ((this.state.selectedSearchOption as IParams).value === 1) {\r\n      this.props.searchTournaments(params);\r\n      history.push(\"/tournaments\");\r\n    } else {\r\n      this.props.searchUsers(params);\r\n      history.push(\"/users\");\r\n    }\r\n  }\r\n\r\n  private onChangeSearchOption = (value: ValueType<OptionTypeBase>) => {\r\n    this.setState({\r\n      selectedSearchOption: value,\r\n    });\r\n  }\r\n\r\n  private clearSearchText = () => {\r\n    this.setState({\r\n      searchText: '',\r\n    });\r\n  }\r\n\r\n  private onChangeSearchText = (value: React.ChangeEvent<HTMLInputElement>) => {\r\n    this.setState({\r\n      searchText: value.target.value,\r\n    });\r\n  }\r\n\r\n  private keyPressed = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === \"Enter\") {\r\n      this.handleSearch();\r\n    }\r\n  }\r\n\r\n  private onImageError = () => {\r\n    this.setState({\r\n      errorLoadImage: true,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const currentUserInfo = this.props.currentUserInfo;\r\n    return (\r\n      <div className=\"Header-container\">\r\n        <div className=\"Logo-container\">\r\n          <Link to=\"/\" style={{ height: 50 }}>\r\n            <img style={{ width: '100%', height: '100%' }} src={require('../../assets/logo.png')} alt={'logo'} />\r\n          </Link>\r\n        </div>\r\n        <div className={`Option-container ${this.props.currentPage === 'tournaments' ? 'Option-container1' : ''}`}>\r\n          <Link to=\"/tournaments\" style={{ textDecoration: 'none' }} onClick={() => { this.props.setGlobalSearchString('') }}>\r\n            <div className=\"Link\"><p className={`Link-text ${this.props.currentPage === 'tournaments' ? 'Link-text-selected' : ''}`}>Các giải đấu</p></div>\r\n          </Link>\r\n          {/* <Link to=\"/news\" style={{ textDecoration: 'none' }}>\r\n            <div className=\"Link\"><p className=\"Link-text\">Tin tức</p></div>\r\n          </Link>\r\n          <Link to=\"/events\" style={{ textDecoration: 'none' }}>\r\n            <div className=\"Link\"><p className=\"Link-text\">Sự kiện</p></div>\r\n          </Link> */}\r\n        </div>\r\n        <div className=\"SearchBar-container\">\r\n          <Select\r\n            options={searchOption}\r\n            className=\"Select Select1\"\r\n            defaultValue={this.state.selectedSearchOption}\r\n            value={this.state.selectedSearchOption}\r\n            onChange={this.onChangeSearchOption}\r\n            menuPlacement={'top'}\r\n          />\r\n          <input type={'text'} onKeyPress={this.keyPressed} className={'Header-text-input'} onChange={this.onChangeSearchText} value={this.state.searchText} />\r\n          {this.state.searchText !== '' && <div className={'Header-icon-container'} onClick={this.clearSearchText}>\r\n            <RiCloseLine className={'Header-icon'} size={30} />\r\n          </div>}\r\n          <div className={'Header-icon-container'} onClick={this.handleSearch}>\r\n            <FaSearch className={'Header-icon'} size={25} />\r\n          </div>\r\n        </div>\r\n        {this.props.currentPage !== 'newTournament' && this.props.currentPage !== 'login' && <Link to=\"/newTournament\" style={{ textDecoration: 'none' }}>\r\n          <div className=\"SignUp-Button-container\"><p className=\"Button\">Tạo giải ngay</p></div>\r\n        </Link>}\r\n        {currentUserInfo != null && cookies.get(COOKIES_TYPE.AUTH_TOKEN) != null ?\r\n          <div className=\"Right-container Right-container-hover\">\r\n            <div className={'UserOption-container'} onClick={this.handleShowUserOption}>\r\n              <div className={'UserOption-avatar-container'}>\r\n                <img className={'UserOption-avatar-image'} src={require(\r\n                  // `${this.state.errorLoadImage === false ?\r\n                    '../../assets/7ab1b0125d485c8dd6a4e78832b0a4b2fbed3cf8.png'\r\n                    // :\r\n                    // '../../assets/avatar-man-icon-profile-placeholder-260nw-1229862502.jpg'}`\r\n                    )\r\n                  } alt={'logo'} onError={this.onImageError} />\r\n              </div>\r\n              <p className={'UserOption-name-text'}>{`${currentUserInfo.firstName}`}</p>\r\n              {this.state.showUserOption === true ? <FaChevronDown color={'white'} /> : <FaChevronUp color={'white'} />}\r\n            </div>\r\n            {this.state.showUserOption === true &&\r\n              <div\r\n                className={'UserOption-dropdown-container'}\r\n              >\r\n                <Link to={`/user/${currentUserInfo.id}`} style={{ textDecoration: 'none' }}>\r\n                  <div className={'UserOption-dropdown-item-container UserOption-dropdown-item-container1'}>\r\n                    <p>Thông tin</p>\r\n                  </div>\r\n                </Link>\r\n                <Link to={`/changePassword`} style={{ textDecoration: 'none' }}>\r\n                  <div className={'UserOption-dropdown-item-container UserOption-dropdown-item-container2'}>\r\n                    <p>Đổi mật khẩu</p>\r\n                  </div>\r\n                </Link>\r\n                <div className={'UserOption-dropdown-item-container UserOption-dropdown-item-container1'} onClick={this.logOut}>\r\n                  <p>Đăng xuất</p>\r\n                </div>\r\n              </div>\r\n            }\r\n          </div>\r\n          : <div className=\"Right-container\">\r\n            {this.props.currentPage === 'login' && <div className=\"Link-text-no-hover-container\"><p className=\"Link-text-no-hover\">Bạn chưa có tài khoản?</p></div>}\r\n            {this.props.currentPage === 'login' ?\r\n              <Link to=\"/signUp\" style={{ textDecoration: 'none' }}>\r\n                <div className=\"SignUp-Button-container\"><p className=\"Button\">Đăng ký</p></div>\r\n              </Link> :\r\n              <Link to=\"/login\" style={{ textDecoration: 'none' }}>\r\n                <div className=\"SignUp-Button-container\"><p className=\"Button\">Đăng nhập</p></div>\r\n              </Link>}\r\n          </div>}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state: IState) => {\r\n  return {\r\n    currentUserInfo: state.currentUserInfo,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { logOut, searchTournaments, setGlobalSearchString, searchUsers }\r\n)(Header);"]},"metadata":{},"sourceType":"module"}